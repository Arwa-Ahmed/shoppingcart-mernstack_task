(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,t,a){e.exports=a(74)},47:function(e,t,a){},48:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=(a(47),a(48),a(9)),u=a(5),i=a(11),s=a.n(i),m=a(16),p=a(17),d=a.n(p);var E=function(e){var t=Object(u.c)((function(e){return e.productList})),a=t.products,c=t.loading,l=t.error,i=Object(u.b)();return Object(n.useEffect)((function(){return i(function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_LIST_REQUEST"}),e.next=4,d.a.get("https://shoppingcart-mernstackapp.herokuapp.com/products/");case 4:a=e.sent,n=a.data,t({type:"PRODUCT_LIST_SUCCESS",payload:n.products.doc}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PRODUCT_LIST_FAIL",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),function(){}}),[]),r.a.createElement(r.a.Fragment,null,c?r.a.createElement("div",null,"Loading..."):l?r.a.createElement("div",null,l):r.a.createElement("ul",{className:"products"},a.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("div",{className:"product"},r.a.createElement(o.b,{to:"/product/"+e._id},r.a.createElement("img",{className:"product-image",src:"/images/".concat(e.image),alt:" "})),r.a.createElement("div",{className:"product-name"},r.a.createElement(o.b,{to:"/product/"+e._id},e.name)),r.a.createElement("div",{className:"product-price"},"$",e.price)))}))))},v=a(21),f=a(41);var y=function(e){var t=Object(n.useState)(1),a=Object(f.a)(t,2),c=a[0],l=a[1],o=Object(u.c)((function(e){return e.productDetails})),i=o.product,p=o.loading,E=o.error,y=Object(u.b)();return Object(n.useEffect)((function(){var t;return y((t=e.match.params.id,function(){var e=Object(m.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PRODUCT_DETAILS_REQUEST",payload:t}),e.next=4,d.a.get("https://shoppingcart-mernstackapp.herokuapp.com/products/"+t);case 4:n=e.sent,r=n.data,a({type:"PRODUCT_DETAILS_SUCCESS",payload:r.product[0]}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"PRODUCT_DETAILS_FAIL",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),function(){}}),[]),r.a.createElement("div",null,p?r.a.createElement("div",null,"Loading..."):E?r.a.createElement("div",null,E," "):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"details-image"},r.a.createElement("img",{className:"product-image",src:"/images/".concat(i.image),alt:"product"})),r.a.createElement("div",{className:"details-info"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h4",null,i.name)),r.a.createElement("li",null,r.a.createElement("b",null,"Price:")," $",i.price),r.a.createElement("li",null,r.a.createElement("b",null,"Description:"),r.a.createElement("div",null,i.description)))),r.a.createElement("div",{className:"details-action"},r.a.createElement("ul",null,r.a.createElement("li",null,"Price: ",i.price),r.a.createElement("li",null,"Status: ",i.countInStock>0?"Available":"Unavilable"),r.a.createElement("li",null,"Qty:"," ",r.a.createElement("select",{value:c,onChange:function(e){l(e.target.value)}},Object(v.a)(Array(i.countInStock).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})))),r.a.createElement("li",null,i.countInStock>0&&r.a.createElement("button",{onClick:function(){e.history.push("/cart/"+e.match.params.id+"?qty="+c)},className:"button primary"},"Add to Cart")))))))},h=a(2),g=a(13),_=a.n(g),S=function(e,t){return function(){var a=Object(m.a)(s.a.mark((function a(n,r){var c,l,o,u;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.get("https://shoppingcart-mernstackapp.herokuapp.com/products/"+e);case 3:c=a.sent,l=c.data,n({type:"CART_ADD_ITEM",payload:{product:l.product[0]._id,name:l.product[0].name,image:l.product[0].image,price:l.product[0].price,countInStock:l.product[0].countInStock,qty:t}}),o=r(),u=o.cart.cartItems,_.a.set("cartItems",JSON.stringify(u)),a.next=12;break;case 10:a.prev=10,a.t0=a.catch(0);case 12:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e,t){return a.apply(this,arguments)}}()};var I=function(e){var t=Object(u.c)((function(e){return e.cart})).cartItems,a=e.match.params.id,c=e.location.search?Number(e.location.search.split("=")[1]):1,l=Object(u.b)(),i=function(e){l(function(e){return function(t,a){t({type:"CART_REMOVE_ITEM",payload:e});var n=a().cart.cartItems;_.a.set("cartItems",JSON.stringify(n))}}(e))};return Object(n.useEffect)((function(){a&&l(S(a,c))}),[]),r.a.createElement("div",{className:"cart"},r.a.createElement("div",{className:"cart-list"},r.a.createElement("ul",{className:"cart-list-container"},r.a.createElement("li",null,r.a.createElement("h3",null,"Shopping Cart")),0===t.length?r.a.createElement("div",null,"Cart is empty"):t.map((function(e){return r.a.createElement("li",{key:e.product},r.a.createElement("div",{className:"cart-image"},r.a.createElement("img",{src:"/images/".concat(e.image),alt:"product"})),r.a.createElement("div",{className:"cart-name"},r.a.createElement("div",null,r.a.createElement(o.b,{to:"/product/"+e.product},e.name))),r.a.createElement("div",{className:"item-qty"},r.a.createElement("input",{type:"button",value:"-",className:"qtyminus btn-piont",id:"qtyminus_"+e.product,field:"quantity",onClick:function(){return function(e){var t=document.querySelector("#qty_"+e).value;if(t>1){document.querySelector("#qty_"+e).value=t-1;var a=parseInt(document.querySelector("#qty_"+e).value);l(S(e,a))}}(e.product)}}),r.a.createElement("input",{type:"text",readOnly:"readonly",name:"quantity",className:"qty",id:"qty_"+e.product,min:"0",value:e.qty,onChange:function(t){return l(S(e.product,parseInt(t.target.value)))}}),r.a.createElement("input",{type:"button",value:"+",className:"qtyplus btn-piont",field:"quantity",id:"qtyplus_"+e.product,onClick:function(){return function(e,t){var a=document.querySelector("#qty_"+e).value;if(a<t){document.querySelector("#qty_"+e).value=parseInt(a)+1;var n=parseInt(document.querySelector("#qty_"+e).value);l(S(e,n))}}(e.product,e.countInStock)}})),r.a.createElement("div",{className:"cart-price"},"$",e.price),r.a.createElement("div",{className:"item-remove"},r.a.createElement("a",{className:"btn-piont",onClick:function(){return i(e.product)}},"\u2716 ")))})),r.a.createElement("li",null,r.a.createElement("div",{className:"cart-action"},r.a.createElement("h3",null,"Subtotal ( ",t.reduce((function(e,t){return e+t.qty}),0)," items) : $ ",t.reduce((function(e,t){return e+t.price*t.qty}),0)),r.a.createElement("button",{onClick:S,className:"button primary"},"Checkout"))))))},b=a(40),O=a(38),N=a.n(O);var T=function(){var e=Object(u.c)((function(e){return e.cart})),t=0;return e.cartItems.map((function(e){return t+=parseInt(e.qty)})),r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"grid-container"},r.a.createElement("header",{className:"header"},r.a.createElement(o.b,{to:"/",className:"link"},"Shopping Cart"),r.a.createElement("div",{className:"header-links"},r.a.createElement("div",{class:"notifi"},r.a.createElement(N.a,{count:t})),r.a.createElement(o.b,{to:"/cart/"},r.a.createElement(b.a,null)))),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"content"},r.a.createElement(h.a,{exact:!0,path:"/",component:E}),r.a.createElement(h.a,{path:"/product/:id",component:y}),r.a.createElement(h.a,{path:"/cart/:id?",component:I}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(12);var k=a(39);var q={cart:{cartItems:_.a.getJSON("cartItems")||[]}},D=Object(C.c)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload};case"PRODUCT_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return{loading:!0};case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var a=t.payload,n=e.cartItems.find((function(e){return e.product===a.product}));return n?{cartItems:e.cartItems.map((function(e){return e.product===n.product?a:e}))}:{cartItems:[].concat(Object(v.a)(e.cartItems),[a])};case"CART_REMOVE_ITEM":return{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))};default:return e}}}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d,U=Object(C.e)(D,q,R(Object(C.a)(k.a)));l.a.render(r.a.createElement(u.a,{store:U},r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.f2df2954.chunk.js.map